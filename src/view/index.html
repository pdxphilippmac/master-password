<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Master Password</title>
  </head>
  <body style="display:flex; flex-direction: column; align-items: center; background-color: rgb(0, 85, 114);" >
    <h1
      style="background-color:#002918; color:rgb(224, 224, 224);
    font-family:'Century Schoolbook',serif; font-size:2em; letter-spacing:3px;
    padding:40px; border:double rgb(224, 9, 45) 4px; text-align:center;"
    >
      Welcome to Master Password
    <div >
    </h1>
    <h3>Get Secret</h3>
    <!-- First Form-->
    <form id="submitForm">
      <input type="text" placeholder="Type your pin" id="secretInput" />

      <button>Get Secret</button>
    </form>
    <div id="showSecret"></div>
    <h3>Set Secret</h3>
    <!-- Second form -->
    <form id="setSecretForm">
      <input id="key" type="text" placeholder="Set your Keyname" />
      <input id="value" type="password" placeholder="Set your Password" />
      <button>Set Secret</button>
    </form>
  </div>
    <!-- Forms END-->
    <script>
      const submitForm = document.querySelector("#submitForm");
      const valueOfInputField = document.querySelector("#secretInput");
      const buttonValue = document.querySelector("#submit");
      const showSecret = document.querySelector("#showSecret");

      const inputCategory = document.querySelector("#key");
      const inputKey = document.querySelector("#key");
      const inputValue = document.querySelector("#value");
      const setSecretForm = document.querySelector("#setSecretForm");
      function handleSubmit(event) {
        event.preventDefault();

        const url = `/${secretInput.value}`;
        fetch(url)
          .then(response => response.text())
          .then(secret => {
            showSecret.innerHTML = secret;
          });
      }

      let result = document.querySelector("#result");

      submitForm.addEventListener("submit", handleSubmit);

      function handleCreate() {
        event.preventDefault();

        const url = `/${inputKey.value}`;
        fetch(url, {
          method: "POST",
          body: inputValue.value
        });

        const secret = {};
        secret[inputKey.value] = inputValue.value;
        console.log(secret);
      }

      setSecretForm.addEventListener("submit", handleCreate);
    </script>
  </body>
</html>
